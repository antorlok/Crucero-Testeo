<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Red de Proveedores</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-content">
        <div class="quick-actions-section">
            <div class="quick-actions-grid">
                <a href="{% url 'solicitudes_compra' %}" class="quick-action-card">
                    <div class="action-icon">
                        <img src="/storage/vectors/clipboard-svgrepo-com.svg" alt="Solicitudes" class="action-icon-img">
                    </div>
                    <h3>Solicitudes de Compra</h3>
                </a>
                <a href="{% url 'gestion_proveedores' %}" class="quick-action-card">
                    <div class="action-icon">
                        <img src="/storage/vectors/user-list-svgrepo-com.svg" alt="Proveedores" class="action-icon-img">
                    </div>
                    <h3>Red de Proveedores</h3>
                </a>
                <a href="{% url 'lista_compras' %}" class="quick-action-card">
                    <div class="action-icon">
                        <img src="/storage/vectors/briefcase-svgrepo-com.svg" alt="Compras" class="action-icon-img">
                    </div>
                    <h3>Resumen de Compras</h3>
                </a>
            </div>
        </div>

        <div class="stats-section" id="proveedor-form-section" style="display:none;">
            <h2 class="section-title">Registrar Proveedor</h2>
            <form class="provider-form" method="post">
                {% csrf_token %}
                <div class="form-row">
                    <label for="nombre">Nombre del Proveedor:</label>
                    <input type="text" id="nombre" name="nombre" required>
                </div>
                <div class="form-row">
                    <label for="productos">Productos que vende:</label>
                    <input type="text" id="productos" name="productos" placeholder="Separados por coma" required>
                </div>
                <div class="form-row">
                    <label for="precio_mayor">Precio al mayor (por producto):</label>
                    <input type="text" id="precio_mayor" name="precio_mayor" placeholder="Ej: 100, 200, 300" required>
                </div>
                <div class="form-row">
                    <label for="precio_detal">Precio al detal (por producto):</label>
                    <input type="text" id="precio_detal" name="precio_detal" placeholder="Ej: 120, 250, 350" required>
                </div>
                <div class="form-row">
                    <button type="submit" class="quick-action-card" style="width:auto;display:inline-flex;align-items:center;gap:8px;justify-content:center;">
                        <img src="/storage/vectors/user-list-svgrepo-com.svg" alt="Guardar" class="action-icon-img" style="width:20px;height:20px;filter:invert(1);">
                        Guardar Proveedor
                    </button>
                </div>
            </form>
        </div>
    </div>
    <script>
        // Mostrar el formulario solo al presionar el bot√≥n "Red de Proveedores"
        document.addEventListener('DOMContentLoaded', function() {
            var btnProveedores = document.querySelector('a.quick-action-card[href*="gestion_proveedores"]');
            var formSection = document.getElementById('proveedor-form-section');
            if(btnProveedores && formSection) {
                btnProveedores.addEventListener('click', function(e) {
                    e.preventDefault();
                    formSection.style.display = (formSection.style.display === 'none' || formSection.style.display === '') ? 'block' : 'none';
                });
            }
        });
    </script>
</body>
</html>
